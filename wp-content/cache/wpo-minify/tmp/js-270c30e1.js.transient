{"request":{"hurl":"http:\/\/localhost\/la_vie_des_plantes\/wp-content\/plugins\/royal-elementor-addons\/assets\/js\/modal-popups.min.js","inline":"","enable_minification":false,"type":"js","handle":"wpr-modal-popups-js","version":"1.7.1007"},"log":{"url":"\/wp-content\/plugins\/royal-elementor-addons\/assets\/js\/modal-popups.min.js","success":true},"code":"( function( $, elementor ) {\n\n\t\"use strict\";\n\n\tvar WprPopups = {\n\n\t\tinit: function() {\n\t\t\t$(document).ready(function() {\n\t\t\t\tif ( ! $( '.wpr-template-popup' ).length || WprPopups.editorCheck() ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tWprPopups.openPopupInit();\n\t\t\t\tWprPopups.closePopupInit();\n\t\t\t});\n\t\t},\n\n\t\topenPopupInit: function() {\n\t\t\t$( '.wpr-template-popup' ).each( function() {\n\t\t\t\tvar popup = $(this),\n\t\t\t\t\tpopupID = WprPopups.getID( popup );\n\n\t\t\t\tif ( ! WprPopups.checkAvailability( popupID ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( ! WprPopups.checkStopShowingAfterDate( popup ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t\/\/ Set Local Storage\n\t\t\t\tWprPopups.setLocalStorage( popup, 'show' );\n\n\t\t\t\t\/\/ Get Settings\n\t\t\t\tvar getLocalStorage = JSON.parse( localStorage.getItem( 'WprPopupSettings' ) ),\n\t\t\t\t\tsettings = getLocalStorage[ popupID ];\n\n\t\t\t\tif ( ! WprPopups.checkAvailableDevice( popup, settings ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t\/\/ Trigger Button Init\n\t\t\t\tWprPopups.popupTriggerInit( popup );\n\n\t\t\t\t\/\/ Page Load\n\t\t\t\tif ( 'load' === settings.popup_trigger ) {\n\t\t\t\t\tvar loadDelay = settings.popup_load_delay * 1000;\n\n\t\t\t\t\t$(window).on( 'load', function() {\n\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\tWprPopups.openPopup( popup, settings );\n\t\t\t\t\t\t}, loadDelay );\n\t\t\t\t\t});\n\n\t\t\t\t\/\/ Page Scroll\n\t\t\t\t} else if ( 'scroll' === settings.popup_trigger ) {\n\t\t\t\t\t$(window).on( 'scroll', function() {\n\t\t\t\t\t\tvar scrollPercent = $(window).scrollTop() \/ ($(document).height() - $(window).height()),\n\t\t\t\t\t\t\tscrollPercent = Math.round( scrollPercent * 100 );\n\n\t\t\t\t\t\tif ( scrollPercent >= settings.popup_scroll_progress && ! popup.hasClass( 'wpr-popup-open' ) ) {\n\t\t\t\t\t\t\tWprPopups.openPopup( popup, settings );\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\/\/ Scroll to Element\n\t\t\t\t} else if ( 'element-scroll' === settings.popup_trigger ) {\n\t\t\t\t\t$(window).on( 'scroll', function() {\n\t\t\t\t\t\tvar element = $( settings.popup_element_scroll ),\n\t\t\t\t\t\t\tScrollBottom = $(window).scrollTop() + $(window).height();\n\n\t\t\t\t\t\tif ( ! element.length ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( element.offset().top < ScrollBottom && ! popup.hasClass( 'wpr-popup-open' ) ) {\n\t\t\t\t\t\t\tWprPopups.openPopup( popup, settings );\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\/\/ Specific Date\n\t\t\t\t} else if ( 'date' === settings.popup_trigger ) {\n\t\t\t\t\tvar nowDate   = Date.now(),\n\t\t\t\t\t\tstartDate = Date.parse( settings.popup_specific_date );\n\n\t\t\t\t\tif ( startDate < nowDate ) {\n\n\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\tWprPopups.openPopup( popup, settings );\n\t\t\t\t\t\t}, 1000 );\n\t\t\t\t\t}\n\n\t\t\t\t\/\/ User Inactivity\n\t\t\t\t} else if ( 'inactivity' === settings.popup_trigger ) {\n\t\t\t\t\tvar idleTimer = null,\n\t\t\t\t\t\tinactivityTime = settings.popup_inactivity_time * 1000;\n\n\t\t\t\t\t$( '*' ).bind( 'mousemove click keyup scroll resize', function () {\n\t\t\t\t\t\tif ( popup.hasClass( 'wpr-popup-open' ) ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\/\/ Reset Timer\n\t\t\t\t\t\tclearTimeout( idleTimer );\n\n\t\t\t\t\t\t\/\/ Open if Inactive\n\t\t\t\t\t\tidleTimer = setTimeout( function() { \n\t\t\t\t\t\t\tWprPopups.openPopup( popup, settings );\n\t\t\t\t\t\t}, inactivityTime );\n\t\t\t\t\t});\n\n\t\t\t\t\t$( 'body' ).trigger( 'mousemove' );\n\n\t\t\t\t\/\/ User Exit Intent\n\t\t\t\t} else if ( 'exit' === settings.popup_trigger ) {\n\t\t\t\t\t$(document).on( 'mouseleave', 'body', function( event ) {\n\t\t\t\t\t\tif ( ! popup.hasClass( 'wpr-popup-open' ) ) {\n\t\t\t\t\t\t\tWprPopups.openPopup( popup, settings );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t\/\/ Custom Trigger\n\t\t\t\t} else if ( 'custom' === settings.popup_trigger ) {\n\t\t\t\t\t$( settings.popup_custom_trigger ).on( 'click', function() {\n\t\t\t\t\t\tWprPopups.openPopup( popup, settings );\n\t\t\t\t\t});\n\n\t\t\t\t\t$( settings.popup_custom_trigger ).css( 'cursor', 'pointer' );\n\t\t\t\t}\n\n\t\t\t\t\/\/ Enable Scrollbar\n\t\t\t\tif ( '0px' !== popup.find('.wpr-popup-container-inner').css('height') ) {\n\t\t\t\t\tconst ps = new PerfectScrollbar(popup.find('.wpr-popup-container-inner')[0], {\n\t\t\t\t\t\tsuppressScrollX: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}, \/\/ End openPopup\n\n\t\topenPopup: function( popup, settings ) {\n\t\t\tif ( 'notification' === settings.popup_display_as ) {\n\t\t\t\tpopup.addClass( 'wpr-popup-notification' );\n\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t$( 'body' ).animate({\n\t\t\t\t\t\t'padding-top' : popup.find( '.wpr-popup-container' ).outerHeight() +'px'\n\t\t\t\t\t}, settings.popup_animation_duration * 1000, 'linear' );\n\t\t\t\t}, 10 );\n\t\t\t}\n\n\t\t\t\/\/ Disable Page Scroll\n\t\t\tif ( settings.popup_disable_page_scroll && 'modal' === settings.popup_display_as ) {\n\t\t\t\t$( 'body' ).css( 'overflow', 'hidden' );\n\t\t\t}\n\n\t\t\t\/\/ Open Popup\n\t\t\tpopup.addClass( 'wpr-popup-open' ).show();\n\t\t\tpopup.find( '.wpr-popup-container' ).addClass( 'animated '+ settings.popup_animation );\n\n            \/\/ goga\n            $(window).trigger('resize');\n\n\t\t\t\/\/ Overlay Fade In\n\t\t\t$( '.wpr-popup-overlay' ).hide().fadeIn();\n\n\t\t\t\/\/ Close Button Show Up Delay\n\t\t\tpopup.find( '.wpr-popup-close-btn' ).css( 'opacity', '0' );\n\t\t\tsetTimeout(function() {\n\t\t\t\tpopup.find( '.wpr-popup-close-btn' ).animate({\n\t\t\t\t\t'opacity' : '1'\n\t\t\t\t}, 500 );\n\t\t\t}, settings.popup_close_button_display_delay * 1000 );\n\n\n\t\t\t\/\/ Close Automatically\n\t\t\tif ( false !== settings.popup_automatic_close_switch ) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tWprPopups.closePopup( popup );\n\t\t\t\t}, settings.popup_automatic_close_delay * 1000 );\n\t\t\t}\n\t\t}, \/\/ End openPopup\n\n\t\tclosePopupInit: function() {\n\t\t\t\/\/ Close Button\n\t\t\t$( '.wpr-popup-close-btn' ).on( 'click', function() {\n\t\t\t\tWprPopups.closePopup( $(this).closest( '.wpr-template-popup' ) );\n\t\t\t});\n\n\t\t\t\/\/ Overlay Click\n\t\t\t$( '.wpr-popup-overlay' ).on( 'click', function() {\n\t\t\t\tvar popup = $(this).closest( '.wpr-template-popup' ),\n\t\t\t\t\tpopupID = WprPopups.getID( popup ),\n\t\t\t\t\tsettings = WprPopups.getLocalStorage( popupID );\n\n\t\t\t\tif ( false == settings.popup_overlay_disable_close ) {\n\t\t\t\t\tWprPopups.closePopup( popup );\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t\/\/ ESC Key Press\n\t\t\t$(document).on( 'keyup', function( event ) {\n\t\t\t\tvar popup = $( '.wpr-popup-open' );\n\n\t\t\t\tif ( popup.length ) {\n\t\t\t\t\tvar\tpopupID = WprPopups.getID( popup ),\n\t\t\t\t\t\tsettings = WprPopups.getLocalStorage( popupID );\n\n\t\t\t\t\tif ( 27 == event.keyCode && false == settings.popup_disable_esc_key ) {\n\t\t\t\t\t\tWprPopups.closePopup( popup );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tclosePopup: function( popup, ) {\n\t\t\tvar popupID = WprPopups.getID( popup ),\n\t\t\t\tsettings = WprPopups.getLocalStorage( popupID );\n\n\t\t\t\/\/ Notification\n\t\t\tif ( 'notification' === settings.popup_display_as ) {\n\t\t\t\t$( 'body' ).css( 'padding-top', 0 );\n\t\t\t}\n\n\t\t\t\/\/ Update Local Storage\n\t\t\tWprPopups.setLocalStorage( popup, 'hide' );\n\n\t\t\t\/\/ Close Pupup\n\t\t\tif ( 'modal' === settings.popup_display_as ) {\n\t\t\t\tpopup.fadeOut();\n\t\t\t} else {\n\t\t\t\tpopup.hide();\n\t\t\t}\n\n\t\t\t\/\/ Enable Page Scrolling\n\t\t\t$( 'body' ).css( 'overflow', 'visible' );\n\t\t\t\n            \/\/ goga\n            $(window).trigger('resize');\n\t\t},\n\n\t\tpopupTriggerInit: function( popup ) {\n\t\t\tvar popupTrigger = popup.find( '.wpr-popup-trigger-button' );\n\n\t\t\tif ( ! popupTrigger.length ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tpopupTrigger.on( 'click', function() {\n\t\t\t\t\/\/ Get Settings\n\t\t\t\tvar settings = JSON.parse( localStorage.getItem( 'WprPopupSettings') ) || {};\n\n\t\t\t\tvar popupTriggerType = $(this).attr( 'data-trigger' ),\n\t\t\t\t\tpopupShowDelay = $(this).attr( 'data-show-delay'),\n\t\t\t\t\tpopupRedirect = $(this).attr( 'data-redirect'),\n\t\t\t\t\tpopupRedirectURL = $(this).attr( 'data-redirect-url'),\n\t\t\t\t\tpopupID = WprPopups.getID( popup );\n\n\t\t\t\tif ( 'close' === popupTriggerType ) {\n\t\t\t\t\tsettings[popupID].popup_show_again_delay = parseInt( popupShowDelay, 10 );\n\t\t\t\t\tsettings[popupID].popup_close_time = Date.now();\n\t\t\t\t} else if ( 'close-permanently' === popupTriggerType ) {\n\t\t\t\t\tsettings[popupID].popup_show_again_delay = parseInt( popupShowDelay, 10 );\n\t\t\t\t\tsettings[popupID].popup_close_time = Date.now();\n\t\t\t\t} else if ( 'back' === popupTriggerType ) {\n\t\t\t\t\twindow.history.back();\n\t\t\t\t}\n\n\t\t\t\tWprPopups.closePopup( popup );\n\n\t\t\t\t\/\/ Save Settings in Browser\n\t\t\t\tlocalStorage.setItem( 'WprPopupSettings', JSON.stringify( settings ) );\n\n\t\t\t\tif ( 'back' !== popupTriggerType && 'yes' === popupRedirect ) {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\twindow.location.href = popupRedirectURL;\n\t\t\t\t\t}, 100);\n\t\t\t\t}\n\t\t\t});\n\n\t\t}, \/\/ End popupTriggerInit\n\n\t\tgetLocalStorage: function( id ) {\n\t\t\tvar getLocalStorage = JSON.parse( localStorage.getItem( 'WprPopupSettings' ) );\n\n\t\t\tif ( null == getLocalStorage ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t\/\/ Get Settings\n\t\t\tvar settings = getLocalStorage[ id ];\n\n\t\t\tif ( null == settings ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn settings;\n\t\t},\n\n\t\tsetLocalStorage: function( popup, display ) {\n\t\t\tvar popupID = WprPopups.getID( popup );\n\n\t\t\t\/\/ Parse Settings\n\t\t\tvar dataSettings = JSON.parse( popup.attr( 'data-settings' ) ),\n\t\t\t\tsettings = JSON.parse( localStorage.getItem( 'WprPopupSettings') ) || {};\n\n\t\t\t\/\/ Merge With Defaults\n\t\t\tsettings[popupID] = dataSettings;\n\n\t\t\t\/\/ Set Close Time\n\t\t\tif ( 'hide' === display ) {\n\t\t\t\tsettings[popupID].popup_close_time = Date.now();\n\t\t\t} else {\n\t\t\t\tsettings[popupID].popup_close_time = false;\n\t\t\t}\n\n\t\t\t\/\/ Save Settings in Browser\n\t\t\tlocalStorage.setItem( 'WprPopupSettings', JSON.stringify( settings ) );\n\t\t},\n\n\t\tcheckStopShowingAfterDate: function( popup ) {\n\t\t\tvar settings = JSON.parse( popup.attr( 'data-settings' ) );\n\n\t\t\t\/\/ Current Date\n\t\t\tvar currentDate = Date.now();\n\n\t\t\t\/\/ Stop Showing after Date\n\t\t\tif ( 'yes' === settings.popup_stop_after_date ) {\n\t\t\t\tif ( currentDate >= Date.parse( settings.popup_stop_after_date_select ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\n\t\tcheckAvailability: function( id ) {\n\t\t\tvar popup = $( '#wpr-popup-id-'+ id ),\n\t\t\t\tdataSettings = JSON.parse( popup.attr( 'data-settings' ) ),\n\t\t\t\tcurrentURL = window.location.href;\n\n\t\t\tif ( 'yes' === dataSettings.popup_show_via_referral && -1 === currentURL.indexOf('wpr_templates=user-popup') ) {\n\t\t\t\tif ( currentURL.indexOf( dataSettings.popup_referral_keyword ) == -1 ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t\/\/ If Storage not set, continue\n\t\t\tif ( false === WprPopups.getLocalStorage( id ) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t\/\/ Popup Trigger\n\t\t\tvar trigger = popup.find( '.wpr-popup-trigger-button' ),\n\t\t\t\ttriggerShowDelay = trigger.attr( 'data-show-delay' );\n\n\t\t\t\/\/ Current Date\n\t\t\tvar currentDate = Date.now();\n\n\t\t\t\/\/ Get Settings\n\t\t\tvar settings = WprPopups.getLocalStorage( id );\n\n\t\t\t\/\/ If delay has been changed\n\t\t\tif ( triggerShowDelay ) {\n\n\t\t\t\tvar permanent = true;\n\n\t\t\t\ttrigger.each(function() {\n\t\t\t\t\tvar delay = $(this).attr( 'data-show-delay' );\n\n\t\t\t\t\tif ( settings.popup_show_again_delay == parseInt( delay, 10 ) ) {\n\t\t\t\t\t\tpermanent = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif ( true === permanent ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ( settings.popup_show_again_delay != dataSettings.popup_show_again_delay ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t\/\/ Get Dates\n\t\t\tvar closeDate = settings.popup_close_time || 0,\n\t\t\t\tshowDelay = parseInt( settings.popup_show_again_delay, 10 );\n\n\t\t\tif ( closeDate + showDelay >= currentDate ) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t},\n\n\t\tcheckAvailableDevice: function( popup, settings ) {\/\/TODO: Add all 7 device support\n\t\t\tvar viewport = $( 'body' ).prop( 'clientWidth' );\n\n\t\t\tif ( viewport > 1024 ) {\n\t\t\t\treturn Boolean(settings.popup_show_on_device);\n\t\t\t} else if ( viewport > 768 ) {\n\t\t\t\treturn Boolean(settings.popup_show_on_device_tablet);\n\t\t\t} else {\n\t\t\t\treturn Boolean(settings.popup_show_on_device_mobile);\n\t\t\t}\n\t\t},\n\n\t\tgetID: function( popup ) {\n\t\t\tvar id = popup.attr( 'id' );\n\n\t\t\treturn id.replace( 'wpr-popup-id-', '' );\n\t\t},\n\n\t\t\/\/ Editor Check\n\t\teditorCheck: function() {\n\t\t\treturn $( 'body' ).hasClass( 'elementor-editor-active' ) ? true : false;\n\t\t}\n\t} \/\/ End WprPopups\n\n\t\/\/ Init\n\tWprPopups.init();\n\n}( jQuery, window.elementorFrontend ) );\n","status":true}